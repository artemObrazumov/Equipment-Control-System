# Система управления спецтехникой
Приложение на Java Spring Boot для автоматизации управления спецтехникой

# Роли пользователей
Приложение подразумевает пользователей с 4 возможными ролями:
1. `ROLE_WORKER (сокр. worker)` - Мастер бригады
2. `ROLE_UNIT_MANAGER (сокр. manager)` - ответственный логист в подразделении
3. `ROLE_DISPATCHER (сокр. dispatcher)` - диспетчер
4. `ROLE_ADMIN (сокр. admin)` - администратор системы

Сокращенные варианты наименований ролей применяются при описании путей.
Если определенный путь имеет префикс, например [worker], то это значит,
для выполнения данного запроса необходима роль мастера бригады, при этом 
другие роли не подойдут. Префикс [worker+] означал бы, что необходима роль
мастера бригадира и выше.

# Пути

## Авторизация

### Вход в аккаунт

- `POST /auth/sign-in`
- Производит вход в аккаунт
- Возвращает JWT-токен

## Пользователи

### Список пользователей
- [{user_role}+] `GET /users/userlist?role={роль}`
- Возвращает список пользователей по определенной роли
- - Для применения этой функции пользователю необходимо иметь роль выше той, что нужно найти

### Регистрация пользователя
- [manager+] `POST /users/create`
- Создает пользователя
- Возвращает данные пользователя (включая id)

### Изменение роли пользователя
- [{user_role}+] `UPDATE /users/changerole`
- Изменяет роль пользователя 
- Для применения этой функции пользователю необходимо иметь роль выше той, что нужно поставить поставить

## Спецтехника

### Получение видов спецтехники
- [worker+] `GET /equipment/getEquipment?q={поиск}`
- Возвращает виды спецтехники по указанному запросу (или все виды, если запрос отсутствует)

### Добавление новых видов спецтехники
- [admin] `POST /equipment/addEquipment`
- Добавляет вид спецтехники
- Возвращает данные вида техники (включая id)

### Добавление новой техники
- [admin] `POST /equipment/addNamedEquipment`
- Добавляет идентифицированную спецтехнику
- Возвращает данные техники (включая id)

## Заявка

### Просмотр заявок
- [manager] `GET /requests/viewRequests`
- Возвращает все заявки, отправленные в службу логистики (подразделение автоматически подхватывается с помощью данных пользователя из JWT-токена)

### Создание заявки
- [worker] `POST /request/create`
- Создает заявку
- Возвращает урезанные данные заявки (включая id)
- Урезанные данные отличаются от полных отсутствием записей конкретной техники

## Оповещения
- `GET /notifications`
- Возвращает список последних уведомлений пользователя
